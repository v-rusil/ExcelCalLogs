"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.convertToAlphanumericOnly = exports.getProjectTemplatesFolderPath = void 0;
const tslib_1 = require("tslib");
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
const path = tslib_1.__importStar(require("path"));
const fs_extra_1 = tslib_1.__importDefault(require("fs-extra"));
const globalVars_1 = require("../core/globalVars");
async function getProjectTemplatesFolderPath(projectPath) {
    if (globalVars_1.globalVars.isVS) {
        const bicepFolder = path.join(projectPath, "templates", "azure");
        const appFolder = path.join(projectPath, "templates", "appPackage");
        if ((await fs_extra_1.default.pathExists(bicepFolder)) || (await fs_extra_1.default.pathExists(appFolder))) {
            try {
                await fs_extra_1.default.rename(path.join(projectPath, "templates"), path.join(projectPath, "Templates"));
            }
            catch (e) {
                return path.resolve(projectPath, "Templates");
            }
        }
        return path.resolve(projectPath, "Templates");
    }
    return path.resolve(projectPath, "templates");
}
exports.getProjectTemplatesFolderPath = getProjectTemplatesFolderPath;
function convertToAlphanumericOnly(appName) {
    return appName.replace(/[^\da-zA-Z]/g, "");
}
exports.convertToAlphanumericOnly = convertToAlphanumericOnly;
//# sourceMappingURL=utils.js.map