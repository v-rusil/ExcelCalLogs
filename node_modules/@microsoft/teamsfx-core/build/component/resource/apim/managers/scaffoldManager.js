"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ScaffoldManager = void 0;
const tslib_1 = require("tslib");
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
const constants_1 = require("../constants");
const path = tslib_1.__importStar(require("path"));
const fs = tslib_1.__importStar(require("fs-extra"));
const folder_1 = require("../../../../folder");
class ScaffoldManager {
    constructor(openApiProcessor, telemetryReporter, logger) {
        this.openApiProcessor = openApiProcessor;
        this.logger = logger;
        this.telemetryReporter = telemetryReporter;
    }
    async scaffold(appName, projectRootPath) {
        const outputDir = path.join(projectRootPath, constants_1.ProjectConstants.workingDir);
        const openApiFileName = path.join(outputDir, constants_1.ProjectConstants.openApiDocumentFileName);
        await this.openApiProcessor.generateDefaultOpenApi(openApiFileName, appName, constants_1.ApimDefaultValues.apiVersion);
        const inputReadmeFileName = path.join(path.join(folder_1.getTemplatesFolder(), "plugins", "resource", "apim"), constants_1.ProjectConstants.readMeFileName);
        const outputReadmeFileName = path.join(outputDir, constants_1.ProjectConstants.readMeFileName);
        await fs.copy(inputReadmeFileName, outputReadmeFileName);
    }
}
exports.ScaffoldManager = ScaffoldManager;
//# sourceMappingURL=scaffoldManager.js.map