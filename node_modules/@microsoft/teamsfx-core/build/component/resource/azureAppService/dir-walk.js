"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.forEachFileAndDir = void 0;
const tslib_1 = require("tslib");
const klaw_1 = tslib_1.__importDefault(require("klaw"));
async function forEachFileAndDir(root, callback, filter) {
    await new Promise((resolve, reject) => {
        const stream = klaw_1.default(root, { filter: filter });
        stream
            .on("data", (item) => {
            if (callback(item.path, item.stats)) {
                stream.emit("close");
            }
        })
            .on("end", () => resolve({}))
            .on("error", (err) => reject(err))
            .on("close", () => resolve({}));
    });
}
exports.forEachFileAndDir = forEachFileAndDir;
//# sourceMappingURL=dir-walk.js.map