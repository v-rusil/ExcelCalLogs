/// <reference types="node" />
import { DeployArgs, DeployContext, DeployStepArgs } from "../../../interface/buildAndDeployArgs";
import { Ignore } from "ignore";
import { ExecutionResult } from "../../../interface/stepDriver";
import { IProgressHandler, UserInteraction } from "@microsoft/teamsfx-api";
import { DriverContext } from "../../../interface/commonArgs";
export declare abstract class BaseDeployImpl {
    args: unknown;
    context: DeployContext;
    workingDirectory: string;
    distDirectory: string;
    dryRun: boolean;
    protected ui?: UserInteraction;
    protected progressBar?: IProgressHandler;
    protected static readonly emptyMap: Map<string, string>;
    protected helpLink: string | undefined;
    protected abstract summaries: string[];
    protected abstract summaryPrepare: string[];
    protected abstract progressNames: string[];
    protected progressPrepare: string[];
    protected abstract progressHandler?: AsyncIterableIterator<void>;
    constructor(args: unknown, context: DriverContext);
    abstract createProgressBar(ui?: UserInteraction): IProgressHandler | undefined;
    protected static asDeployArgs: (data: unknown, helpLink?: string | undefined) => DeployArgs;
    run(): Promise<ExecutionResult>;
    private handlePath;
    /**
     * pack dist folder into zip
     * @param args dist folder and ignore files
     * @param context log provider etc..
     * @protected
     */
    protected packageToZip(args: DeployStepArgs, context: DeployContext): Promise<Buffer>;
    protected handleIgnore(args: DeployStepArgs, context: DeployContext): Promise<Ignore>;
    protected wrapErrorHandler(fn: () => boolean | Promise<boolean>): Promise<ExecutionResult>;
    /**
     * real deploy process
     * @param args deploy arguments
     */
    abstract deploy(args: DeployArgs): Promise<boolean>;
}
//# sourceMappingURL=baseDeployImpl.d.ts.map